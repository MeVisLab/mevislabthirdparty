type: pure_c
name: "libffi"
version: "3.4.2"
homepage: "https://sourceware.org/libffi/"
description: "A portable foreign-function interface library"
license: "MIT"

sources:
  "3.4.2":
    sha256: 0acbca9fd9c0eeed7e5d9460ae2ea945d3f1f3d48e13a4c54da12c7e0d23c313
    url: "https://github.com/libffi/libffi/archive/refs/tags/v${version}.tar.gz"
    base_path: "libffi-${version}"

  "3.3.0":
    sha256: "72fba7922703ddfa7a028d513ac15a85c8d54c8d67f55fa5a4802885dc652056"
    url: "https://github.com/libffi/libffi/releases/download/v3.3/libffi-3.3.tar.gz"
    base_path: "libffi-3.3"

patches:
  "3.3.0":
    - patch_file: "patches/${version}_fix-complex-type-msvc.patch"
    - patch_file: "patches/${version}_disable_runtime_checks.patch"
