type: cpp
name: dcmtk
cmake_name: DCMTK
display_name: DCMTK
version: "3.6.7"
homepage: http://dicom.offis.de/dcmtk.php.en
description: The DICOM Toolkit
license: BSD-3-Clause

sources:
  "3.6.7":
    sha256: 7c58298e3e8d60232ee6fc8408cfadd14463cc11a3c4ca4c59af5988c7e9710a
    url: https://dicom.offis.de/download/dcmtk/dcmtk${version_major}${version_minor}${version_patch}/dcmtk-${version}.tar.gz
    base_path: dcmtk-${version}

patches:
  "3.6.7":
    - patch_file: patches/${version}_configure.patch
      patch_type: bugfix
      patch_description: |
        typo in darwin config, see https://github.com/DCMTK/dcmtk/pull/65
    - patch_file: patches/${version}_dcdictbi.cc.patch
      patch_type: compatibility
      patch_description: replaces retired tags with ACR NEMA tags
    - patch_file: patches/${version}_dcpixel.cc.patch
      patch_type: feature
      patch_description: |
        handles specific case of invalid multi-frame padding (padding byte for each frame)
        note that the detection of this case is not completely certain
    - patch_file: patches/${version}_dcuid.cc.patch
      patch_type: feature
      patch_description: handling of machines without network adapter (e.g. VM)
    - patch_file: patches/${version}_find_package_required.patch
      patch_description: |
        makes configured packages mandatory, e.g. an error instead of a warning is issued if they are missing
    - patch_file: patches/${version}_on_the_fly_compression.patch
      patch_type: customization
      patch_description: Enables on the fly compression in storescu
    - patch_file: patches/${version}_storescp.cc.patch
      patch_type: feature
      patch_description: |
        option 'short-info': decreased verbosity, creates standardized one-line descriptions per association
        option 'flat-study-path': incoming files will be saved top-level regardless of the study
        option 'tempfile-while-saving': write incoming file into temp file and renames it after completion
    - patch_file: patches/${version}_storescu.cc.patch
      patch_type: feature
      patch_description: |
        option 'from-file': read file list to send from file
        option 'accept-dicom-only': skip files without preamble to avoid long processing times
    - patch_file: patches/${version}_warning_4351.patch
      patch_type: bugfix
      patch_description: warning compatibility with newer VC++ compilers, see https://github.com/DCMTK/dcmtk/pull/66
